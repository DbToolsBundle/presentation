<!doctype html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

	<title>Anonymize your data with the DbToolsBundle</title>

	<link rel="stylesheet" href="dist/reset.css">
	<link rel="stylesheet" href="dist/reveal.css">
	<link rel="stylesheet" href="dist/theme/makina.css">
	<link rel="stylesheet" href="plugin/highlight/paraiso.css">
</head>

<body>
	<div class="reveal">
		<div class="slides">
			<section>
				<h3 style="font-size: 2.5rem; margin-bottom: 0">
					Don't leave your production data lying around: <span class="emphase">anonymize</span> it with
				</h3>
				<img src="assets/logo.png" style="height:400px"></img>
				<h1 style="font-size: 5rem;"><span class="emphase">DbToolsBundle</span></h1>
			</section>

			<section>
				<div style="display: flex;align-items: center;justify-content: space-around;">
					<div style="display: flex;flex-direction: column;align-items: center;">
						<img src="assets/simon.jpg" style="max-width:150px;border-radius: 50%;"></img>
						<ul style="list-style: none;display: flex;">
							<li>
								<a href="https://github.com/SimonMellerin" target="_blank">
									<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512" style="width:32px;">
										<path
											d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3 .3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5 .3-6.2 2.3zm44.2-1.7c-2.9 .7-4.9 2.6-4.6 4.9 .3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3 .7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3 .3 2.9 2.3 3.9 1.6 1 3.6 .7 4.3-.7 .7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3 .7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3 .7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z" />
									</svg>
								</a>
							</li>
							<li style="flex-basis: 100%;">
								<a href="https://mamot.fr/@enuts_" target="_blank">
									<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" style="width:32px;">
										<path
											d="M433 179.1c0-97.2-63.7-125.7-63.7-125.7-62.5-28.7-228.6-28.4-290.5 0 0 0-63.7 28.5-63.7 125.7 0 115.7-6.6 259.4 105.6 289.1 40.5 10.7 75.3 13 103.3 11.4 50.8-2.8 79.3-18.1 79.3-18.1l-1.7-36.9s-36.3 11.4-77.1 10.1c-40.4-1.4-83-4.4-89.6-54a102.5 102.5 0 0 1 -.9-13.9c85.6 20.9 158.7 9.1 178.8 6.7 56.1-6.7 105-41.3 111.2-72.9 9.8-49.8 9-121.5 9-121.5zm-75.1 125.2h-46.6v-114.2c0-49.7-64-51.6-64 6.9v62.5h-46.3V197c0-58.5-64-56.6-64-6.9v114.2H90.2c0-122.1-5.2-147.9 18.4-175 25.9-28.9 79.8-30.8 103.8 6.1l11.6 19.5 11.6-19.5c24.1-37.1 78.1-34.8 103.8-6.1 23.7 27.3 18.4 53 18.4 175z" />
									</svg>
								</a>
							</li>
							<li>
								<a href="https://www.linkedin.com/in/simonmellerin" target="_blank">
									<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" style="width:28px;">
										<path
											d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z" />
									</svg>
								</a>
							</li>
						</ul>
					</div>
					<div style="text-align: left; padding-left: 3rem;">
						<h3>Simon Mellerin</h3>
						<ul style="list-style: none;" class="align-left">
							<li>🧑‍💻️ · Web developper · PHP/Symfony · Vue.js</li>
							<li>🗺️ · from Nantes, France</li>
						</ul>
					</div>
				</div>
				<div style="display: flex;align-items: center;justify-content: space-around;margin-top: 2rem">
					<div style="text-align: right; padding-right: 3rem;">
						<h3>Pierre Rineau</h3>
						<ul style="list-style: none;" class="align-right">
							<li>🧑‍💻️ · Senior backend engineer · PHP/Symfony · Vue.js</li>
							<li>🗺️ · from Nantes, France</li>
						</ul>
					</div>
					<div style="display: flex;flex-direction: column;align-items: center;">
						<img src="assets/pounard.jpeg" style="max-width:150px;border-radius: 50%;"></img>
						<ul style="list-style: none;display: flex;">
							<li>
								<a href="https://github.com/pounard" target="_blank">
									<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512" style="width:32px;">
										<path
											d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3 .3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5 .3-6.2 2.3zm44.2-1.7c-2.9 .7-4.9 2.6-4.6 4.9 .3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3 .7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3 .3 2.9 2.3 3.9 1.6 1 3.6 .7 4.3-.7 .7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3 .7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3 .7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z" />
									</svg>
								</a>
							</li>
							<li style="flex-basis: 100%;">
								<a href="https://piaille.fr/@PonchoVire" target="_blank">
									<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" style="width:32px;">
										<path
											d="M433 179.1c0-97.2-63.7-125.7-63.7-125.7-62.5-28.7-228.6-28.4-290.5 0 0 0-63.7 28.5-63.7 125.7 0 115.7-6.6 259.4 105.6 289.1 40.5 10.7 75.3 13 103.3 11.4 50.8-2.8 79.3-18.1 79.3-18.1l-1.7-36.9s-36.3 11.4-77.1 10.1c-40.4-1.4-83-4.4-89.6-54a102.5 102.5 0 0 1 -.9-13.9c85.6 20.9 158.7 9.1 178.8 6.7 56.1-6.7 105-41.3 111.2-72.9 9.8-49.8 9-121.5 9-121.5zm-75.1 125.2h-46.6v-114.2c0-49.7-64-51.6-64 6.9v62.5h-46.3V197c0-58.5-64-56.6-64-6.9v114.2H90.2c0-122.1-5.2-147.9 18.4-175 25.9-28.9 79.8-30.8 103.8 6.1l11.6 19.5 11.6-19.5c24.1-37.1 78.1-34.8 103.8-6.1 23.7 27.3 18.4 53 18.4 175z" />
									</svg>
								</a>
							</li>
							<li>
								<a href="https://www.linkedin.com/in/pierre-r-15b73117/" target="_blank">
									<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" style="width:28px;">
										<path
											d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z" />
									</svg>
								</a>
							</li>
						</ul>
					</div>
				</div>
			</section>
			<section>
				<h3>Makina Corpus</h3>
				<div style="display: flex;align-items: center;justify-content: space-around;">
					<img style="max-width:300px;" src="assets/makina.svg" />
					<img style="max-width:300px;" src="assets/makina-agences.svg" />
				</div>
				<ul class="tag-list">
					<li>Digital Service Company</li>
					<li>~50 people</li>
					<li>working <em>exclusively</em> with <strong class="emphase">FLOSS</strong></li>
				</ul>
				<aside class="notes" data-markdown>
					**SME**

					à l'époque ou les ESN s'appelait de **SS2I**, Makina se présentait comme
					une **SS2L**
				</aside>
			</section>
			<section>
				<h3>Makina Corpus</h3>

				<ul class="feature-list feature-center grid-3">
					<li>
						<img src="assets/makina.png" style="width: 145px;margin-top: calc(var(--r-block-margin) + 7px)"/>
						<strong class="emphase">
							Services
						</strong>
					</li>
					<li>
						<img src="assets/makina-territoires.png " style="width: 160px"/>
						<strong class="emphase">
							Products
						</strong>
					</li>
					<li>
						<img src="assets/makina-formation.png" style="width: 150px"/>
						<strong class="emphase">
							Training
						</strong>
					</li>
				</ul>
				<aside class="notes" data-markdown>
					**SME**

					* Service applications web sur-mesure (PHP/Python, technos front diverses)
					* Territoire - Produit (Tous open source, Geotrek)
					* Formation - Sur toutes les technos qu'on utilise
				</aside>
			</section>

			<section>
				<h4>DbToolsBundle</h4>
				<h4 style="opacity: 50%;">Anonymization</h4>
				<h4 style="opacity: 50%;">Roadmap</h4>
				<h4 style="opacity: 50%;">Contribute</h4>
			</section>

			<section>
				<h3>Anonymize? 🤔</h3>
				<aside class="notes" data-markdown>
					**SME**

					RGPD, respect des données utilisateur, sécurité

					* Qui a déjà eu besoin de raptrier des données de prod en local?
					* Qui s'est déjà retrouvé avec des données de prod en local?
					* Qui a déjà utilisé une API externe dont la Preprod renvoyait de vraies données

					**to PRI**
				</aside>
			</section>
			<section>
				<h3>DbToolsBundle</h3>
				<img src="assets/symfony+makina.svg" style="width:50%" />
				<p>Built from real-world needs</p>
				<aside class="notes" data-markdown>
					**PRI**

					* Capitaliser sur des besoins projet récurrents
						* 4e projet ou on copie/colle des commandes symfony
						* requêtes sql d'anonaymization difficile à maintenir
						* demande des clients
					* se mettre en conformité avec le RGPD
					* Partager avec la communauté Symfony
						(rendre un peu de ce qu'on a pris)
					* Encourager la communauté Symfony à mettre en place de l'anonymisation
						mais aujourd'hui communauté PHP et Docker
				</aside>
			</section>
			<section>
				<h3>DbToolsBundle</h3>
				<p>Try to address 3 common issues:</p>
				<ul style="list-style: none;">
					<li><strong>Easily</strong> configure data anonymization</li>
					<li>A <strong>simple</strong> anonymization workflow</li>
					<li>Making anonymization <strong>fast</strong></li>
				</ul>
				<aside class="notes" data-markdown>
					**PRI**

					Pourquoi les gens ne mettent pas en place d'anonymisation:

					* Configurer *facilement* une anonymisation de données
					* Mettre en place un worklow *simple*
					* Rendre cette anonymisation *rapide*
				</aside>
			</section>
			<section>
				<h3>DbToolsBundle</h3>
				<p>A set of Console Commands</p>
				<div>
					<ul class="feature-list feature-left grid-2">
						<li>
							<p>
								<img src="assets/export.svg " />
								Backup
							</p>
							<pre><code class="language-sh" data-trim>
								db-tools backup
								</code></pre>
						</li>
						<li>
							<p>
								<img src="assets/import.svg" />
								Restore
							</p>
							<pre><code class="language-sh" data-trim>
								db-tools restore
								</code></pre>
						</li>
						<li>
							<p>
								<img src="assets/anonymize.svg " />
								Anonymize
							</p>
							<pre><code class="language-sh" data-trim>
								db-tools anonymize
								</code></pre>
						</li>
						<li>
							<p>
								<img src="assets/stats.svg" />
								Display statistics
							</p>
							<pre><code class="language-sh"  data-trim>
								db-tools stats
							</code></pre>
					</li>
				</ul>
				<a class="docs" href="https://dbtoolsbundle.readthedocs.io/" target="_blank"><img src="assets/doc.svg"/></a>
				<aside class="notes" data-markdown>
					**PRI**

					* Une collection de commande Symfony
				</aside>
			</section>
			<section>
				<h3>DbToolsBundle</h3>
				<p>Works on top of most popular Database vendors:</p>
				<div style="display: flex; flex-wrap: wrap; align-items: center; justify-content: center ;column-gap: 1em;">
					<img alt="postgresql" src="assets/pgsql.png" style="height:100px;">
					<img alt="sqlite" src="assets/sqlite.png" style="height:60px;" />
					<img alt="mariadb" src="assets/mariadb.png" style="height:80px;" />
					<img alt="mysql" src="assets/mysql.svg" style="height:80px;" />
				</div>
				<a class="docs" href="https://dbtoolsbundle.readthedocs.io/en/stable/getting-started/database-vendors.html" target="_blank"><img src="assets/doc.svg"/></a>
				<aside class="notes" data-markdown>
					**PRI**

					**to SME**
				</aside>
			</section>
			<section>
				<h3>Performance</h3>
				<p>Try it on our <a href="https://github.com/DbToolsBundle/benchmark-app" target="_blank">benchmark app:</a></p>
				<ul style="list-style: none;">
					<li><p style="margin-bottom: 0px"><strong>4 Database connections</strong></p><small>(PostgreSQL, SQLite, MySQL, MariaDb)</small></li>
					<li><strong>3 Entities to anonymize</strong>
						<ul style="list-style: none;">
							<li>
								<strong class="emphase">Customer:</strong> email · password · lastname · firstname ·  age
							</li>
							<li>
								<strong class="emphase">Address:</strong> a complete postal address (5 fields)
							</li>
							<li>
								<strong class="emphase">Order:</strong> telephone · email · amount · note
							</li>
						</ul>
					</li>
				</ul>
				<a class="docs" href="https://dbtoolsbundle.readthedocs.io/en/stable/anonymization/performance.html" target="_blank"><img src="assets/doc.svg"/></a>
				<aside class="notes" data-markdown>
					**SME**
				</aside>
			</section>
			<section>
				<h3>Performance</h3>
				<div class="r-stack">
					<table style="transform: scale(80%) translateX(-15%)">
						<tr>
							<td>Customer</td>
							<td>Address</td>
							<td>Order</td>
							<th>PostgreSQL</th>
							<th>SQLite</th>
							<th>MariaDB</th>
							<th>MySQL</th>
						</tr>
						<tr class="fragment">
							<td>100k</td>
							<td>-</td>
							<td>-</td>
							<td>~5s</td>
							<td>~7s</td>
							<td>~20s</td>
							<td>~53s</td>
						</tr>
						<tr class="fragment">
							<td>1&nbsp;000k</td>
							<td>-</td>
							<td>-</td>
							<td>~16s</td>
							<td>~16s</td>
							<td>~1m&nbsp;23s</td>
							<td>~36m&nbsp;56s</td>
						</tr>
						<tr class="fragment">
							<td>-</td>
							<td>200k</td>
							<td>-</td>
							<td>~6s</td>
							<td>~10s</td>
							<td>~26s</td>
							<td>~42s</td>
						</tr>
						<tr class="fragment">
							<td>-</td>
							<td>-</td>
							<td>1&nbsp;000k</td>
							<td>~16s</td>
							<td>~11s</td>
							<td>~1m&nbsp;15s</td>
							<td>~25m&nbsp;1s</td>
						</tr>
						<tr class="fragment">
							<td>100k</td>
							<td>200k</td>
							<td>-</td>
							<td>~7s</td>
							<td>~10s</td>
							<td>~32s</td>
							<td>~1m&nbsp;16s</td>
						</tr>
						<tr class="fragment">
							<td>100k</td>
							<td>200k</td>
							<td>1&nbsp;000k</td>
							<td>~24s</td>
							<td>~25s</td>
							<td>~1m&nbsp;40s</td>
							<td>~36m&nbsp;47s</td>
						</tr>
					</table>
				</div>
				<a class="docs" href="https://dbtoolsbundle.readthedocs.io/en/stable/anonymization/performance.html" target="_blank"><img src="assets/doc.svg"/></a>
				<aside class="notes" data-markdown>
					**SME**

					attention, les résultats peuvent changer, prévoir +/- 10%
				</aside>
			</section>
			<section>
				<h3>Performance</h3>
				<ul style="list-style: none;">
					<li>Anonymizing with SQL only</li>
					<li>One update query per table</li>
					<li>Build with a complete <a href="https://php-query-builder.readthedocs.io/" target="_blank">query builder</a></li>
				</ul>
				<a class="docs" href="https://dbtoolsbundle.readthedocs.io/en/stable/anonymization/internals.html" target="_blank"><img src="assets/doc.svg"/></a>
				<aside class="notes" data-markdown="">
					**SME**

					* On anonymise des colonnes de DB et pas des champs d'entité
					* La requête d'update est optimisé en fonction du type de base de données

					**to PRI**
				</aside>
			</section>
			<section>
				<h3>Flavors</h3>
				<img src="assets/flavors.svg" style="width:50%" />
				<a class="docs" href="https://dbtoolsbundle.readthedocs.io/en/stable/getting-started/flavors.html" target="_blank"><img src="assets/doc.svg"/></a>
				<aside class="notes" data-markdown>
					**PRI**

					* Depuis la version 2
					* standalone, symfony, docker, laravel
						(experimental en attente de retours commu)
					* Documentation flavorisée
					* Questions pour connaitre l'auditoire
						Qui fait du symfony ? php ? laravel ? autre ?
				</aside>
			</section>
			<section>
				<h3>Flavors</h3>
				<div class="grid-2" style="align-items: center; justify-items: center;">
					<img src="assets/php.svg" style="height: 50px; width: auto"/>
					<pre><code class="language-txt" data-trim>
					user@prod:~$ vendor/bin/db-tools anonymize --local-database
					</code></pre>

					<img src="assets/symfony.svg" style="height: 50px;"/>
					<pre><code class="language-txt" data-trim>
					user@prod:~$ php bin/console db-tools:anonymize --local-database
					</code></pre>

					<img src="assets/docker.svg" style="height: 50px;"/>
					<pre><code class="language-txt" data-trim>
					user@prod:~$ docker compose run dbtools anonymize --local-database
					</code></pre>

					<img src="assets/laravel.svg" style="height: 50px;"/>
					<pre><code class="language-txt" data-trim>
					user@prod:~$ php artisan db-tools:anonymize --local-database
					</code></pre>
				</div>
				<a class="docs" href="https://dbtoolsbundle.readthedocs.io/en/stable/getting-started/flavors.html" target="_blank"><img src="assets/doc.svg"/></a>
				<aside class="notes" data-markdown>
					**PRI**

					* Mais toujours la même config yaml
				</aside>
			</section>

			<section>
				<h4 style="opacity: 50%;">DbToolsBundle</h4>
				<h4>Anonymization</h4>
				<h4 style="opacity: 50%;">Roadmap</h4>
				<h4 style="opacity: 50%;">Contribute</h4>
			</section>

			<section>
				<h3>Setting Up Anonymization</h3>
				<p>
					Map each table's <strong class="emphase">column</strong> you want to anonymize with an
					<strong class="emphase"><em>Anonymizer</em></strong>.
				</p>
				<ul class="tag-list" style="padding: 0 3em;">
					<li>Email</li>
					<li>Password</li>
					<li>Int</li>
					<li>Float</li>
					<li>String</li>
					<li>Firstname</li>
					<li>Lastname</li>
					<li>Address</li>
					<li>etc...</li>
				</ul>
				<a class="docs" href="https://dbtoolsbundle.readthedocs.io/en/stable/anonymization/essentials.html" target="_blank"><img src="assets/doc.svg"/></a>
				<aside class="notes" data-markdown>
					**PRI**

					* Mapper chaque donnée à anonymiser avec une méthode
					d'anonymisation (un anonymiseur)
					* Une liste d'anonymiseurs est fournit de base
					* Mais on peut l'étendre
				</aside>
			</section>
			<section>
				<section>
					<h3>Setting Up Anonymization</h3>
					<pre><code class="language-yaml" data-trim data-line-numbers="4-4|5-5|6-8|9-11|12-14">
						# db_tools.config.yaml
						anonymization:
								default:
										customer:
												email_address: email
												password:
													anonymizer: password
													options: {algorithm: 'sodium', password: '123456789'}
												level:
														anonymizer: string
														options: {sample: ['none', 'bad', 'good', 'expert']}
												age:
														anonymizer: integer
														options: {min: 10, max: 99}
						#...
					</code></pre>
					<p>With YAML, from a list of various <i>anonymizers</i></p>
					<a class="docs" href="https://dbtoolsbundle.readthedocs.io/en/stable/anonymization/essentials.html#example" target="_blank"><img src="assets/doc.svg"/></a>
					<aside class="notes" data-markdown>
						**PRI**

						le cas général en yaml
					</aside>
				</section>
				<section>
					<h3>Setting Up Anonymization</h3>
					<p>On Doctrine Entities, from a list of various <i>anonymizers</i></p>
					<pre><code class="language-php" data-trim data-line-numbers="6-8|15-17|19-24|26-31|33-38">
						namespace App\Entity;

						use Doctrine\ORM\Mapping as ORM;
						use MakinaCorpus\DbToolsBundle\Attribute\Anonymize;

						#[ORM\Entity()]
						#[ORM\Table(name: 'customer')]
						class Customer
						{
								#[ORM\Id]
								#[ORM\GeneratedValue]
								#[ORM\Column]
								private ?int $id = null;

								#[ORM\Column(length: 180, unique: true)]
								#[Anonymize(type: 'email')]
								private ?string $emailAddress = null;

								#[ORM\Column(length: 180, unique: true)]
								#[Anonymize(
									type: 'password',
									['password' => '123456789']
								)]
								private ?string $password = null;

								#[ORM\Column]
								#[Anonymize(
									type: 'integer',
									options: ['min' => 10, 'max' => 99]
								)]
								private ?int $age = null;

								#[ORM\Column(length: 255)]
								#[Anonymize(
									type: 'string',
									options: ['sample' => ['none', 'bad', 'good', 'expert']]
								)]
								private ?string $level = null;

								#[ORM\Column]
								private ?\DateTime $lastLogin = null;

								// ...
						}
						</code></pre>
						<a class="docs" href="https://dbtoolsbundle.readthedocs.io/en/stable/anonymization/essentials.html#example" target="_blank"><img src="assets/doc.svg"/></a>
						<aside class="notes" data-markdown>
							**PRI**

							le cas symfony avec attributs PHP (mais yaml possible)
							le cas laravel dispo (config PHP)
						</aside>
				</section>
			</section>
			<section>
				<h3>Setting Up Anonymization</h3>

				<p>Check your config with:</p>
				<pre style="margin-bottom:0;"><code class="language-sh" style="padding-bottom: 0.5em;" data-trim>
					db-tools anonymization:dump-config
				</code></pre>
				<pre class="fragment" style="margin-top:0"><code class="language-txt" data-trim>
					Table: customer
					---------------

					----------- ------------ ---------------------------------------------------------------------------------
						Target      Anonymizer   Options
					----------- ------------ ---------------------------------------------------------------------------------
						email       email
						password    password
						lastname    lastname
						firstname   firstname
						age         age          min: 10, max: 99
						level       string       sample: [none, bad, good, expert]
					----------- ------------ ---------------------------------------------------------------------------------
				</code></pre>
				<aside class="notes" data-markdown>
					**PRI**

					**to SME**
				</aside>
			</section>
			<section>
				<h3>A GDPR-friendly workflow</h3>
				<div class="r-stack" style="margin-top: -0.4em;margin-bottom: -0.2em">
					<img src="assets/step-0.png"/>
					<img src="assets/step-1.png" class="fragment" data-fragment-index="2"/>
					<img src="assets/step-2-1.png" class="fragment" data-fragment-index="3"/>
					<img src="assets/step-2-2.png" class="fragment" data-fragment-index="4"/>
					<img src="assets/step-2-3.png" class="fragment" data-fragment-index="5"/>
					<img src="assets/step-2-4.png" class="fragment" data-fragment-index="6"/>
					<img src="assets/step-2-5.png" class="fragment" data-fragment-index="7"/>
					<img src="assets/step-3.png" class="fragment" data-fragment-index="8"/>
					<img src="assets/step-4.png" class="fragment" data-fragment-index="9"/>
				</div>
				<div class="r-stack">
					<pre class="fragment" data-fragment-index="1"><code class="language-txt" data-trim>
					user@prod:~$ db-tools restore --list
					</code></pre>
					<pre class="fragment" data-fragment-index="2"><code class="language-txt" data-trim>
					user@preprod:~$ scp user@prod:/path/to/prod.dump /tmp/prod.dump
					</code></pre>
					<pre class="fragment" data-fragment-index="3"><code class="language-txt" data-trim>
					user@preprod:~$ db-tools anonymize /tmp/prod.dump
					</code></pre>
					<pre class="fragment" data-fragment-index="8"><code class="language-txt" data-trim>
					user@local:~$ scp user@preprod:/tmp/prod.dump /tmp/prod-anonymized.dump
					</code></pre>
					<pre class="fragment" data-fragment-index="9"><code class="language-txt" data-trim>
					user@local:~$ db-tools restore --filename /tmp/prod-anonymized.dump
					</code></pre>
				</div>
				<a class="docs" href="https://dbtoolsbundle.readthedocs.io/en/stable/anonymization/workflow.html" target="_blank"><img src="assets/doc.svg"/></a>
				<aside class="notes" data-markdown="">
					**SME**

					* Objectif1 : avoir des données anonymiser en local
					* Objectif2 : ne jamais avoir des données snesibles sur un env non-sécurisé
					* Pourquoi on ne peut pas faire prod -> local
						=> sinon données sensibles à un moment donné sur poste de dev
					* Éteindre les services de la préprod avant tout chose
					* cette une proposition qui convient à la plupart des cas, mais possible autrement
					* Preprod pourrait être n'importe quel runner sur une CI juste besoin d'une bdd et php ou stack docker
				</aside>
			</section>
			<section>
				<h3>Custom Anonymizers</h3>

				<pre><code class="language-php" data-trim>
					namespace App\Anonymizer;

					use MakinaCorpus\DbToolsBundle\Anonymization\Anonymizer\AbstractAnonymizer;
					use MakinaCorpus\DbToolsBundle\Attribute\AsAnonymizer;

					#[AsAnonymizer(
							name: 'my_anonymizer', // a snake case string
							pack: 'my_app', // a snake case string
							description: 'Describe here if you want how your anonymizer works.'
					)]
					class MyAnonymizer extends AbstractAnonymizer
					{

						// ...
				</code></pre>
				<a class="docs" href="https://dbtoolsbundle.readthedocs.io/en/stable/anonymization/custom-anonymizers.html" target="_blank"><img src="assets/doc.svg"/></a>
				<aside class="notes" data-markdown="">
					**SME**

					* Custom anonymizer in src/Anomymizer
					* Créer son pack avec le template dispo sur github

					**to PRI**
				</aside>
			</section>
			<section>
				<h3>How does it work under the hood?</h3>
				<img src="assets/anonymiztion-db-schema.svg"/>
				<p>temporary alteration of your SQL schema</p>
				<a class="docs" href="https://dbtoolsbundle.readthedocs.io/en/stable/anonymization/internals.html#targeted-update-query" target="_blank"><img src="assets/doc.svg"/></a>
				<aside class="notes" data-markdown="">
					**PRI**

					* Une table de sample par anonymizer
					* une colonne d'index temporaire
						* ça n'est pas une clée primaire
						* c'est généré par une séquence
						* ça n'a pas d'impact sur l'identité des lignes
					* pas de risques : contexte anonymisation sur un dump
				</aside>
			</section>
			<section>
				<h3>How does it work under the hood?</h3>
				<p>the SQL query in deep</p>
				<pre><code class="language-sql" data-trim data-line-numbers="1-5|7-7|29-31|9-17|19-27">
					UPDATE
						"customer"
					SET
						"nom" = "sample_1"."value",
						"civilite" = "sample_2"."value"

					FROM "customer" AS "_target_table"

					LEFT JOIN (
						SELECT
							"value",
							ROW_NUMBER() OVER (ORDER BY random()) AS "rownum"
						FROM "sample_1"
						LIMIT 171224
					) AS "sample_1"
					ON MOD("_target_table"."_db_tools_id", 589)
						= "sample_1"."rownum"

					LEFT JOIN (
						SELECT
							"value",
							ROW_NUMBER() OVER (ORDER BY random()) AS "rownum"
						FROM "sample_2"
						LIMIT 171224
					) AS "sample_2"
					ON MOD("_target_table"."_db_tools_id", 2)
						= "sample_2"."rownum"

					WHERE
						"client"."_target_table" = "_target_table"."_db_tools_id"
					;
				</code></pre>

				<a class="docs" href="https://dbtoolsbundle.readthedocs.io/en/stable/anonymization/internals.html#targeted-update-query" target="_blank"><img src="assets/doc.svg"/></a>
				<aside class="notes" data-markdown="">
					**PRI**

					* SQL Standard UPDATE query cannot JOIN over the updated table,
						* we only can use a cross join using the FROM statement.
						* Other JOIN statements can only target tables from the FROM clause.
						* cartesian production of the target table with itself
					* to randomly select samples :
						* ORDER BY random() clause.
					* ROW_NUMBER() sur la random partition pour générer autant de lignes que de sample
						* limit 171224 = nombre d'élément dans `customer`
					* jointure par MOD() (modulo) : les tables de sample peuvent contenir moins de ligne que la table à anonymiser
						* 589: nombre de lignes dans la table de sample_1
						* 2: nombre de lignes dans la table de sample_2
					* pour les multicolonne anonymizers : juste besoin de plusieurs `SET`
					* il existe des variations pour chaque SGBD
				</aside>
			</section>

			<section>
				<h4 style="opacity: 50%;">DbToolsBundle</h4>
				<h4 style="opacity: 50%;">Anonymization</h4>
				<h4>Roadmap</h4>
				<h4 style="opacity: 50%;">Contribute</h4>
			</section>

			<section>
				<h3>Roadmap</h3>
				<ul class="feature-list grid-3" style="gap: 1.5em;">
					<li>
						<p>Easy-to-configure datalist</p>
						<small>(from csv, json...)</small>
					</li>
					<li>
						<p>Faker pack & languages packs</p>
					</li>
					<li><p>Pre/Post anonymization SQL queries</p></li>
					<li><p>Whitelist conditions for rows</p></li>
					<li><p>New core anonymizers</p></li>
					<li><p>Other Database vendors ?</p></li>
				</ul>
				<aside class="notes" data-markdown>
					**PRI**

					* question qui utilise sgbd psql, sqlite, mysql..
					* new core anonymizers : Ip (v4 & v6) address, Mac address, longitude/latitude, uuid, raison sociale

					**to SME**
				</aside>
			</section>

			<section>
				<h4 style="opacity: 50%;">DbToolsBundle</h4>
				<h4 style="opacity: 50%;">Anonymization</h4>
				<h4 style="opacity: 50%;">Roadmap</h4>
				<h4>Contribute</h4>
			</section>

			<section>
				<h3>Contribute</h3>
				<ul class="feature-list grid-3" style="gap: 1.5em;">
					<li>📢 · <strong class="emphase">Share</strong>
						<ul style="padding-top: .5em;">
							<li>Talk about it</li>
							<li><a href="https://github.com/makinacorpus/DbToolsBundle/stargazers">
								Star on Github
							</a></li>
						</ul>
					</li>
					<li>🪲 · <strong class="emphase">Report</strong>
						<ul style="padding-top: .5em;">
							<li>Missing documentation</li>
							<li>Issues in code</li>
						</ul>
					</li>
					<li>🧑‍💻 · <strong class="emphase">Code</strong>
						<ul style="padding-top: .5em;">
							<li>
								Check for
								<em><a target="_blank" href="https://github.com/makinacorpus/DbToolsBundle/issues?q=is%3Aissue+is%3Aopen+label%3A%22good+first+issue%22">good first issues</a></em>
								on Github
							</li>
							<li>Share your pack of anonymizers</li>
						</ul>
					</li>
				</ul>
				<p>We need you to make the DbToolsBundle awesome!</p>
				<a class="docs" href="https://dbtoolsbundle.readthedocs.io/en/stable/contribute/contribute.html" target="_blank"><img src="assets/doc.svg"/></a>
				<aside class="notes" data-markdown>
					**SME**
				</aside>
			</section>

			<section>
				<h3>
					<img src="assets/logo.png" style="max-height:90px;margin: 0; transform: translateY(25px);"></img>
					Thanks, any question?
				</h3>
				<div style="display: flex; justify-content: space-between;">
					<div style="font-size: 0.6em;width:50%">
						<p>Resources:</p>
						<ul>
							<li><a href="https://dbtoolsbundle.github.io/presentation">dbtoolsbundle.github.io/presentation</a></li>
							<li><a href="https://dbtoolsbundle.readthedocs.io/" target="_blank">Documentation on ReadTheDocs</a></li>
							<li><a href="https://github.com/makinacorpus/DbToolsBundle" target="_blank">Source code on Github</a></li>
							<li><a href="https://makina-corpus.com/symfony/decouvrez-le-dbtoolsbundle" target="_blank">Introduction to the DbtoolsBundle on Makina's blog [fr]</a></li>
						</ul>
					</div>
					<div style="font-size: 0.6em">
						<p>Lien Open Feedback:</p>
						<img src="assets/openfeedback.svg" width="250px"/>
					</div>
				</div>
			</section>
		</div>
	</div>

	<script src="dist/reveal.js"></script>
	<script src="plugin/notes/notes.js"></script>
	<script src="plugin/markdown/markdown.js"></script>
	<script src="plugin/highlight/highlight.js"></script>
	<script>
		// More info about initialization & config:
		// - https://revealjs.com/initialization/
		// - https://revealjs.com/config/
		Reveal.initialize({
			hash: true,
			margin: 0.02,
			slideNumber: 'c/t',
			pdfSeparateFragments: false,
			// Learn about plugins: https://revealjs.com/plugins/
			plugins: [RevealMarkdown, RevealHighlight, RevealNotes]
		});
	</script>
</body>
</html>