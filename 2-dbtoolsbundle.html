<section>
  <h3>Anonymize? ü§î</h3>
  <aside class="notes" data-markdown>
    **SME**

    RGPD, respect des donn√©es utilisateur, s√©curit√©

    * Qui a d√©j√† eu besoin de raptrier des donn√©es de prod en local?
    * Qui s'est d√©j√† retrouv√© avec des donn√©es de prod en local?
    * Qui a d√©j√† utilis√© une API externe dont la Preprod renvoyait de vraies donn√©es

    **to PRI**
  </aside>
</section>
<section>
  <h3>DbToolsBundle</h3>
  <img src="assets/symfony+makina.svg" style="width:50%" />
  <p>Built from real-world needs</p>
  <aside class="notes" data-markdown>
    **PRI**

    * Capitaliser sur des besoins projet r√©currents
      * 4e projet ou on copie/colle des commandes symfony
      * requ√™tes sql d'anonaymization difficile √† maintenir
      * demande des clients
    * se mettre en conformit√© avec le RGPD
    * Partager avec la communaut√© Symfony
      (rendre un peu de ce qu'on a pris)
    * Encourager la communaut√© Symfony √† mettre en place de l'anonymisation
      mais aujourd'hui communaut√© PHP et Docker
  </aside>
</section>
<section>
  <h3>DbToolsBundle</h3>
  <p>Try to address 3 common issues:</p>
  <ul style="list-style: none;">
    <li><strong>Easily</strong> configure data anonymization</li>
    <li>A <strong>simple</strong> anonymization workflow</li>
    <li>Making anonymization <strong>fast</strong></li>
  </ul>
  <aside class="notes" data-markdown>
    **PRI**

    Pourquoi les gens ne mettent pas en place d'anonymisation:

    * Configurer *facilement* une anonymisation de donn√©es
    * Mettre en place un worklow *simple*
    * Rendre cette anonymisation *rapide*
  </aside>
</section>
<section>
  <h3>DbToolsBundle</h3>
  <p>A set of Console Commands</p>
  <div>
    <ul class="feature-list feature-left grid-2">
      <li>
        <p>
          <img src="assets/export.svg " />
          Backup
        </p>
        <pre><code class="language-sh" data-trim>
          db-tools backup
          </code></pre>
      </li>
      <li>
        <p>
          <img src="assets/import.svg" />
          Restore
        </p>
        <pre><code class="language-sh" data-trim>
          db-tools restore
          </code></pre>
      </li>
      <li>
        <p>
          <img src="assets/anonymize.svg " />
          Anonymize
        </p>
        <pre><code class="language-sh" data-trim>
          db-tools anonymize
          </code></pre>
      </li>
      <li>
        <p>
          <img src="assets/stats.svg" />
          Display statistics
        </p>
        <pre><code class="language-sh"  data-trim>
          db-tools stats
        </code></pre>
    </li>
  </ul>
  <a class="docs" href="https://dbtoolsbundle.readthedocs.io/" target="_blank"><img src="assets/doc.svg"/></a>
  <aside class="notes" data-markdown>
    **PRI**

    * Une collection de commande Symfony
  </aside>
</section>
<section>
  <h3>DbToolsBundle</h3>
  <p>Works on top of most popular Database vendors:</p>
  <div style="display: flex; flex-wrap: wrap; align-items: center; justify-content: center ;column-gap: 1em;">
    <img alt="postgresql" src="assets/pgsql.png" style="height:100px;">
    <img alt="sqlite" src="assets/sqlite.png" style="height:60px;" />
    <img alt="mariadb" src="assets/mariadb.png" style="height:80px;" />
    <img alt="mysql" src="assets/mysql.svg" style="height:80px;" />
  </div>
  <a class="docs" href="https://dbtoolsbundle.readthedocs.io/en/stable/getting-started/database-vendors.html" target="_blank"><img src="assets/doc.svg"/></a>
  <aside class="notes" data-markdown>
    **PRI**

    **to SME**
  </aside>
</section>
<section>
  <h3>Performance</h3>
  <p>Try it on our <a href="https://github.com/DbToolsBundle/benchmark-app" target="_blank">benchmark app:</a></p>
  <ul style="list-style: none;">
    <li><p style="margin-bottom: 0px"><strong>4 Database connections</strong></p><small>(PostgreSQL, SQLite, MySQL, MariaDb)</small></li>
    <li><strong>3 Entities to anonymize</strong>
      <ul style="list-style: none;">
        <li>
          <strong class="emphase">Customer:</strong> email ¬∑ password ¬∑ lastname ¬∑ firstname ¬∑  age
        </li>
        <li>
          <strong class="emphase">Address:</strong> a complete postal address (5 fields)
        </li>
        <li>
          <strong class="emphase">Order:</strong> telephone ¬∑ email ¬∑ amount ¬∑ note
        </li>
      </ul>
    </li>
  </ul>
  <a class="docs" href="https://dbtoolsbundle.readthedocs.io/en/stable/anonymization/performance.html" target="_blank"><img src="assets/doc.svg"/></a>
  <aside class="notes" data-markdown>
    **SME**
  </aside>
</section>
<section>
  <h3>Performance</h3>
  <div class="r-stack">
    <table style="transform: scale(80%) translateX(-15%)">
      <tr>
        <td>Customer</td>
        <td>Address</td>
        <td>Order</td>
        <th>PostgreSQL</th>
        <th>SQLite</th>
        <th>MariaDB</th>
        <th>MySQL</th>
      </tr>
      <tr class="fragment">
        <td>100k</td>
        <td>-</td>
        <td>-</td>
        <td>~5s</td>
        <td>~7s</td>
        <td>~20s</td>
        <td>~53s</td>
      </tr>
      <tr class="fragment">
        <td>1&nbsp;000k</td>
        <td>-</td>
        <td>-</td>
        <td>~16s</td>
        <td>~16s</td>
        <td>~1m&nbsp;23s</td>
        <td>~36m&nbsp;56s</td>
      </tr>
      <tr class="fragment">
        <td>-</td>
        <td>200k</td>
        <td>-</td>
        <td>~6s</td>
        <td>~10s</td>
        <td>~26s</td>
        <td>~42s</td>
      </tr>
      <tr class="fragment">
        <td>-</td>
        <td>-</td>
        <td>1&nbsp;000k</td>
        <td>~16s</td>
        <td>~11s</td>
        <td>~1m&nbsp;15s</td>
        <td>~25m&nbsp;1s</td>
      </tr>
      <tr class="fragment">
        <td>100k</td>
        <td>200k</td>
        <td>-</td>
        <td>~7s</td>
        <td>~10s</td>
        <td>~32s</td>
        <td>~1m&nbsp;16s</td>
      </tr>
      <tr class="fragment">
        <td>100k</td>
        <td>200k</td>
        <td>1&nbsp;000k</td>
        <td>~24s</td>
        <td>~25s</td>
        <td>~1m&nbsp;40s</td>
        <td>~36m&nbsp;47s</td>
      </tr>
    </table>
  </div>
  <a class="docs" href="https://dbtoolsbundle.readthedocs.io/en/stable/anonymization/performance.html" target="_blank"><img src="assets/doc.svg"/></a>
  <aside class="notes" data-markdown>
    **SME**

    attention, les r√©sultats peuvent changer, pr√©voir +/- 10%
  </aside>
</section>
<section>
  <h3>Performance</h3>
  <ul style="list-style: none;">
    <li>Anonymizing with SQL only</li>
    <li>One update query per table</li>
    <li>Build with a complete <a href="https://php-query-builder.readthedocs.io/" target="_blank">query builder</a></li>
  </ul>
  <a class="docs" href="https://dbtoolsbundle.readthedocs.io/en/stable/anonymization/internals.html" target="_blank"><img src="assets/doc.svg"/></a>
  <aside class="notes" data-markdown="">
    **SME**

    * On anonymise des colonnes de DB et pas des champs d'entit√©
    * La requ√™te d'update est optimis√© en fonction du type de base de donn√©es

    **to PRI**
  </aside>
</section>
<section>
  <h3>Flavors</h3>
  <img src="assets/flavors.svg" style="width:50%" />
  <a class="docs" href="https://dbtoolsbundle.readthedocs.io/en/stable/getting-started/flavors.html" target="_blank"><img src="assets/doc.svg"/></a>
  <aside class="notes" data-markdown>
    **PRI**

    * Depuis la version 2
    * standalone, symfony, docker, laravel
      (experimental en attente de retours commu)
    * Documentation flavoris√©e
    * Questions pour connaitre l'auditoire
      Qui fait du symfony ? php ? laravel ? autre ?
  </aside>
</section>
<section>
  <h3>Flavors</h3>
  <div class="grid-2" style="align-items: center; justify-items: center;">
    <img src="assets/php.svg" style="height: 50px; width: auto"/>
    <pre><code class="language-txt" data-trim>
    user@prod:~$ vendor/bin/db-tools anonymize --local-database
    </code></pre>

    <img src="assets/symfony.svg" style="height: 50px;"/>
    <pre><code class="language-txt" data-trim>
    user@prod:~$ php bin/console db-tools:anonymize --local-database
    </code></pre>

    <img src="assets/docker.svg" style="height: 50px;"/>
    <pre><code class="language-txt" data-trim>
    user@prod:~$ docker compose run dbtools anonymize --local-database
    </code></pre>

    <img src="assets/laravel.svg" style="height: 50px;"/>
    <pre><code class="language-txt" data-trim>
    user@prod:~$ php artisan db-tools:anonymize --local-database
    </code></pre>
  </div>
  <a class="docs" href="https://dbtoolsbundle.readthedocs.io/en/stable/getting-started/flavors.html" target="_blank"><img src="assets/doc.svg"/></a>
  <aside class="notes" data-markdown>
    **PRI**

    * Mais toujours la m√™me config yaml
  </aside>
</section>
